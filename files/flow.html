<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>example.html</title>
        <style type="text/css">
          .end-element { fill : #FFCCFF; }
        </style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.17.1/flowchart.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.1/js/bootstrap.bundle.min.js"></script>
        <!-- <script src="../release/flowchart.min.js"></script> -->
        <script>

            window.onload = function () {
                var btn = document.getElementById("run"),
                    cd = document.getElementById("code"),
                    chart;
                    
                (btn.onclick = function () {
                    var code = cd.value;

                    if (chart) {
                      chart.clean();
                    }

                    chart = flowchart.parse(code);
                    chart.drawSVG('canvas', {
                      'x': 0,
                      'y': 0,
                      'line-width': 3,
                      //'maxWidth': 15,//ensures the flowcharts fits within a certain width
                      'line-length': 50,
                      'text-margin': 10,
                      'font-size': 14,
                      'font': 'normal',
                      'font-family': 'Helvetica',
                      'font-weight': 'normal',
                      'font-color': 'black',
                      'line-color': 'black',
                      'element-color': 'black',
                      'fill': 'white',
                      'yes-text': 'yes',
                      'no-text': 'no',
                      'arrow-end': 'block',
                      'scale': 1,
                      'symbols': {
                        'start': {
                          'font-size': 14,
                          'font-color': 'yellow',
                          'element-color': 'blue',
                          'fill': 'green',
                          'class': 'start-element'
                        },
                        'inputoutput': {
                          'font-color': 'black',
                          'element-color': 'black',
                          'fill': 'bisque'
                        },
                        'operation': {
                          'font-color': 'black',
                          'element-color': 'black',
                          'fill': 'linen'
                        },
                        'subroutine': {
                          'font-color': 'black',
                          'element-color': 'blue',
                          'fill': 'lightgreen'
                        },
                        'condition': {
                          'font-color': 'red',
                          'element-color': 'black',
                          'fill': 'yellow'
                        },
                        'end':{
                          'font-size': 20,
                          'class': 'end-element'
                        }
                      },
                      'flowstate' : {
                        //'past' : { 'fill' : '#CCCCCC', 'font-size' : 12},
                        //'current' : {'fill' : 'yellow', 'font-color' : 'red', 'font-weight' : 'bold'},
                        //'future' : { 'fill' : '#FFFF99'},
                        'request' : { 'fill' : 'blue'},
                        'invalid': {'fill' : '#444444'},
                        'approved' : { 'fill' : '#58C4A3', 'font-size' : 12, 'yes-text' : 'APPROVED', 'no-text' : 'n/a' },
                        'rejected' : { 'fill' : '#C45879', 'font-size' : 12, 'yes-text' : 'n/a', 'no-text' : 'REJECTED' }
                      }
                    });
                    //create base64 encoding of SVG to generate download link for title(without html or htm).SVG
                    var currentCanvasDIV = document.getElementById('canvas')
                    var currentDrawSVG = currentCanvasDIV.innerHTML.replaceAll('ë','e');

                    const OUTsvgBASE64 = btoa(currentDrawSVG)
                    doctitle = document.title.replace('.html','');
                    doctitle = doctitle.replace('.htm','');


                    var currentCanvasDIV = document.getElementById('canvas')
                    var currentDrawSVG = currentCanvasDIV.innerHTML.replaceAll('ë','e');
                    svgSource = currentDrawSVG
                    svgXML = currentDrawSVG;
                    // Use SVG Height and Width from the SVG XML to set canvas size
                    svgXMLsubstringHeight = svgXML.substring(svgXML.indexOf('height='), svgXML.indexOf('version='));
                    svgXMLsubstringWidth = svgXML.substring(svgXML.indexOf('width='), svgXML.indexOf('xmlns='));
                    HeightValue = svgXMLsubstringHeight.substring(svgXMLsubstringHeight.indexOf('"')+1,svgXMLsubstringHeight.lastIndexOf('"'));
                    WidthValue = svgXMLsubstringWidth.substring(svgXMLsubstringWidth.indexOf('"')+1,svgXMLsubstringWidth.lastIndexOf('"'));
                    HeightValueInt = Math.round(HeightValue)
                    WidthValueInt = Math.round(WidthValue)
                    // setup input for base64SvgToBase64Png
                    let svgSrc = "data:image/svg+xml;base64,"+OUTsvgBASE64;
                    var pngBase
                    imageUtil.base64SvgToBase64Png(svgSrc, WidthValueInt, HeightValueInt).then(pngSrc => {
                    pngBase = pngSrc
                    // output download link for base64 PNG converted on download from base64
                    var pngOutHtml = `<a href="${pngBase}" download="${doctitle}.png">PNG - Click here to download current rendered flowchart as ${doctitle}.png</a>`
                    document.getElementById("pngbase64").innerHTML=pngOutHtml;
                    });    
                    // output download link for base64 SVG converted on download from base64
                    var svgOutHtml = `<a href="data:image/svg+xml;base64,${OUTsvgBASE64}" download=${doctitle}.svg>SVG - Click here to download current rendered flowchart as ${doctitle}.svg</a> `
                        document.getElementById("svgbase64").innerHTML=svgOutHtml;
                    })();

                            };
                 

// derived from https://stackoverflow.com/a/64800570
// we need to use web browser canvas to generate a image. In this case png
let imageUtil = {};
/**
 * converts a base64 encoded data url SVG image to a PNG image
 * @param originalBase64 data url of svg image
 * @param width target width in pixel of PNG image
 * @param secondTry used internally to prevent endless recursion
 * @return {Promise<unknown>} resolves to png data url of the image
 */
imageUtil.base64SvgToBase64Png = function (originalBase64, width, height, secondTry) {
    return new Promise(resolve => {
        let img = document.createElement('img');
        img.onload = function () {
            if (!secondTry && (img.naturalWidth === 0 || img.naturalHeight === 0)) {
                let svgDoc = base64ToSvgDocument(originalBase64);
                let fixedDoc = fixSvgDocumentFF(svgDoc);
                return imageUtil.base64SvgToBase64Png(svgDocumentToBase64(fixedDoc), width, height, true).then(result => {
                    resolve(result);
                });
            }
            //document.body.appendChild(img);
            let canvas2 = document.createElement("canvas");
            //document.body.removeChild(img);
            canvas2.width = width;
            canvas2.height = height;
            let ctx = canvas2.getContext("2d");
            ctx.drawImage(img, 0, 0, canvas2.width, canvas2.height);
            try {
                let data = canvas2.toDataURL('image/png');
                resolve(data);
            } catch (e) {
                resolve(null);
            }
        };
        img.src = originalBase64;
    });
}

//needed because Firefox doesn't correctly handle SVG with size = 0, see https://bugzilla.mozilla.org/show_bug.cgi?id=700533
function fixSvgDocumentFF(svgDocument) {
    try {
        let widthInt = parseInt(svgDocument.documentElement.width.baseVal.value) || 500;
        let heightInt = parseInt(svgDocument.documentElement.height.baseVal.value) || 500;
        svgDocument.documentElement.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, widthInt);
        svgDocument.documentElement.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, heightInt);
        return svgDocument;
    } catch (e) {
        return svgDocument;
    }
}

function svgDocumentToBase64(svgDocument) {
    try {
        let base64EncodedSVG = btoa(new XMLSerializer().serializeToString(svgDocument));
        return 'data:image/svg+xml;base64,' + base64EncodedSVG;
    } catch (e) {
        return null;
    }
}

function base64ToSvgDocument(base64) {
    let svg = atob(base64.substring(base64.indexOf('base64,') + 7));
    svg = svg.substring(svg.indexOf('<svg'));
    let parser = new DOMParser();
    return parser.parseFromString(svg, "image/svg+xml");
} 
        </script>

        <script>
            function HelpText() {
              var x = document.getElementById("HelpTextBlock");
              if (x.style.display === "none") {
                x.style.display = "block";
              } else {
                x.style.display = "none";
              }
            }
        </script>
    </head>
    <body>
        <div><textarea id="code" style="width: 100%;" rows="11">op2=>operation: import tkinter as tk
op4=>operation: from tkinter import ttk
op6=>operation: from tkinter import *
op8=>operation: from tkinter import messagebox
op10=>operation: import threading
op12=>operation: import sys
op14=>operation: import os
op16=>operation: import time
op18=>operation: from time import gmtime, strftime
op20=>operation: from datetime import datetime
op22=>operation: import pytz
op24=>operation: import pygame
op26=>operation: from pathlib import Path
op28=>operation: from tkinter import filedialog
op30=>operation: from PIL import Image
op32=>operation: from PIL import ImageTk
op34=>operation: global directory, song_item_count
op36=>operation: global paused
op38=>operation: global t
op40=>operation: global deriodosdialimatos
op42=>operation: deriodosdialimatos = 3
op44=>operation: paused = 0
sub46=>subroutine: pygame.mixer.pre_init(44100, (- 16), 2, 2048)
sub48=>subroutine: pygame.init()
sub50=>subroutine: pygame.mixer.init()
st53=>start: start startbelladd
io55=>inputoutput: input: 
sub58=>subroutine: treebells.set(globals()[f'bellsitem{breaks.get()}'], 'breakstart', str((('{:02d}'.format(int(hh.get())) + ':') + '{:02d}'.format(int(mm.get())))))
e60=>end: end startbelladd
st64=>start: start stopbelladd
io66=>inputoutput: input: 
sub69=>subroutine: treebells.set(globals()[f'bellsitem{breaks.get()}'], 'breakstop', str((('{:02d}'.format(int(hh.get())) + ':') + '{:02d}'.format(int(mm.get())))))
e71=>end: end stopbelladd
st75=>start: start playsong
io77=>inputoutput: input: 
op80=>operation: global directory
op82=>operation: item = treesongs.selection()[0]
sub84=>subroutine: print(item)
op86=>operation: text = treesongs.item(item)['values']
sub88=>subroutine: print(text[1])
sub90=>subroutine: pygame.mixer.music.load(((('.' + directory) + '/') + text[1]))
sub92=>subroutine: pygame.mixer.music.play()
e94=>end: end playsong
st98=>start: start stopsong
io100=>inputoutput: input: 
sub103=>subroutine: pygame.mixer.music.fadeout(3000)
e105=>end: end stopsong
st109=>start: start pausesong
io111=>inputoutput: input: 
cond115=>condition: if (pygame.mixer.music.get_busy() == True)
sub119=>subroutine: pygame.mixer.music.pause()
e126=>end: end pausesong
st130=>start: start openfolder
io132=>inputoutput: input: 
op135=>operation: global directory
op137=>operation: directory = filedialog.askdirectory()
sub139=>subroutine: print(directory)
cond142=>condition: if (len(directory) != 0)
cond147=>operation: treesongs.insert('', tk.END, text='', values=('', name, '')) while  name in os.listdir(directory)
sub159=>subroutine: treesongs.selection_set('I001')
e164=>end: end openfolder
st168=>start: start initboot
io170=>inputoutput: input: 
op173=>operation: global directory, song_item_count
op175=>operation: mylist = []
op177=>operation: file = open('config.dat', 'r')
cond180=>operation: mylist.append(each[:(- 1)]) while  each in file
sub192=>subroutine: print(mylist)
op194=>operation: dt = datetime.now()
op196=>operation: daynum = dt.weekday()
cond199=>condition: if (daynum == 0)
op203=>operation: directory = '/mon'
op250=>operation: singnameslist = os.listdir((('.' + directory) + '/'))
sub252=>subroutine: singnameslist.sort()
sub254=>subroutine: print(singnameslist)
op256=>operation: i = 1
cond259=>condition: for name in singnameslist
sub278=>subroutine: print(((('.' + directory) + '/') + name))
op280=>operation: a = pygame.mixer.Sound(((('.' + directory) + '/') + name))
sub282=>subroutine: print(a.get_length())
sub284=>subroutine: treesongs.insert('', tk.END, text='', values=(i, name, strftime('%H:%M:%S', gmtime(int(a.get_length())))))
sub286=>subroutine: ora.config(text=('Loading tracks' + ('.' * i)))
sub288=>subroutine: ora.update_idletasks()
op290=>operation: i = (i + 1)
sub294=>subroutine: ora.config(text='-')
sub296=>subroutine: print(treesongs.get_children(0))
cond299=>condition: if (treesongs.get_children(0) != ())
sub303=>subroutine: treesongs.selection_set('I001')
sub305=>subroutine: treebells.item(bellsitem1, values=('1', mylist[0], mylist[1]))
sub307=>subroutine: treebells.item(bellsitem2, values=('2', mylist[2], mylist[3]))
sub309=>subroutine: treebells.item(bellsitem3, values=('3', mylist[4], mylist[5]))
sub311=>subroutine: treebells.item(bellsitem4, values=('4', mylist[6], mylist[7]))
sub313=>subroutine: treebells.item(bellsitem5, values=('5', mylist[8], mylist[9]))
sub315=>subroutine: treebells.item(bellsitem6, values=('6', mylist[10], mylist[11]))
sub317=>subroutine: treebells.item(bellsitem7, values=('7', mylist[12], mylist[13]))
sub322=>subroutine: file.close()
op324=>operation: song_item_count = len(treesongs.get_children())
sub326=>subroutine: print(('items:' + str(song_item_count)))
e328=>end: end initboot
st332=>start: start timer
io334=>inputoutput: input: 
op337=>operation: global paused, song_item_count, directory
op339=>operation: global deriodosdialimatos
sub341=>subroutine: startkodon.config(state=DISABLED)
op343=>operation: item = treesongs.selection()[0]
op345=>operation: text = treesongs.item(item)['values']
sub347=>subroutine: pygame.mixer.music.load(((('.' + directory) + '/') + text[1]))
cond350=>condition: while True
sub529=>subroutine: print(ora['text'])
op531=>operation: timez = pytz.timezone('Europe/Athens')
op533=>operation: datetime_athens = datetime.now(timez)
cond536=>condition: if (paused == 1)
sub540=>subroutine: ora.config(text='-')
op542=>operation: playbut['state'] = 'normal'
op544=>operation: stopbut['state'] = 'normal'
op546=>operation: pausebut['state'] = 'normal'
cond560=>condition: for child in treebells.get_children()
op599=>operation: allchilds = treebells.item(child)['values']
cond602=>condition: if (allchilds[1] == datetime_athens.strftime('%H:%M'))
sub606=>subroutine: print('start ring')
sub608=>subroutine: pygame.mixer.music.play()
op610=>operation: paused = 0
op612=>operation: deriodosdialimatos = 1
sub614=>subroutine: time.sleep(60)
cond620=>condition: if (allchilds[2] == datetime_athens.strftime('%H:%M'))
sub624=>subroutine: print('stop ring')
op626=>operation: deriodosdialimatos = 0
sub628=>subroutine: pygame.mixer.music.stop()
cond636=>condition: if (treesongs.selection()[0] != None)
sub640=>subroutine: print(('1-' + treesongs.selection()[0]))
cond643=>condition: if (ora['text'] != '-')
sub647=>subroutine: print(('2-' + ora['text']))
cond650=>condition: if (not pygame.mixer.music.get_busy())
sub654=>subroutine: print(('3-' + str((not pygame.mixer.music.get_busy()))))
cond657=>condition: if (deriodosdialimatos == 1)
sub661=>subroutine: print('change song')
cond664=>condition: if (int(treesongs.selection()[0][3:]) < song_item_count)
sub668=>subroutine: treesongs.selection_set(('I00' + str((int(treesongs.selection()[0][3:]) + 1))))
op670=>operation: item = treesongs.selection()[0]
sub672=>subroutine: print(item)
op674=>operation: text = treesongs.item(item)['values']
sub676=>subroutine: print(text[1])
sub678=>subroutine: pygame.mixer.music.load(((('.' + directory) + '/') + text[1]))
sub680=>subroutine: pygame.mixer.music.play()
sub697=>subroutine: print(pygame.mixer.music.get_pos())
sub699=>subroutine: time.sleep(1)
op701=>operation: try:
    if (window.winfo_exists() == 1):
        pass
except:
    pygame.mixer.music.stop()
    break
sub550=>subroutine: ora.config(text=datetime_athens.strftime('%H:%M'))
sub552=>subroutine: playbut.config(state=DISABLED)
sub554=>subroutine: stopbut.config(state=DISABLED)
sub556=>subroutine: pausebut.config(state=DISABLED)
e705=>end: end timer
st709=>start: start startbellfunc
io711=>inputoutput: input: 
op714=>operation: global t
op716=>operation: t = threading.Thread(target=timer)
sub718=>subroutine: t.start()
e720=>end: end startbellfunc
st724=>start: start pausebellfunc
io726=>inputoutput: input: 
op729=>operation: global paused
cond732=>condition: if (paused == 1)
op736=>operation: paused = 0
e743=>end: end pausebellfunc
op746=>operation: window = tk.Tk()
sub748=>subroutine: window.title('Κώδων')
op750=>operation: icon_img = PhotoImage(file='bell.png')
sub752=>subroutine: window.iconphoto(False, icon_img)
sub754=>subroutine: window.geometry('650x500')
op756=>operation: left_frame = ttk.Frame(window)
sub758=>subroutine: left_frame.place(x=20, y=20)
op760=>operation: bells_frame = ttk.LabelFrame(left_frame, text='Ρύθμιση κουδουνιών')
sub762=>subroutine: bells_frame.grid(row=0, column=0, sticky=W)
op764=>operation: hh = tk.Spinbox(bells_frame, state='readonly', from_=0, to=23, width=2, relief='sunken')
sub766=>subroutine: hh.grid(row=0, column=0, sticky=EW)
op768=>operation: mm = tk.Spinbox(bells_frame, state='readonly', from_=0, to=59, width=2, relief='sunken')
sub770=>subroutine: mm.grid(row=0, column=1, sticky=EW)
op772=>operation: breaks = ttk.Combobox(bells_frame, width=2, state='readonly', values=['1', '2', '3', '4', '5', '6', '7'])
sub774=>subroutine: breaks.grid(row=0, column=2, columnspan=2, sticky=EW)
op776=>operation: startbell = tk.Button(bells_frame, width=13, text='Αρχή', command=startbelladd)
sub778=>subroutine: startbell.grid(row=1, column=0, columnspan=2, sticky=EW)
op780=>operation: stopbell = tk.Button(bells_frame, width=13, text='Τέλος', command=stopbelladd)
sub782=>subroutine: stopbell.grid(row=1, column=2, columnspan=2, sticky=EW)
op784=>operation: savebells = tk.Button(bells_frame, text='Αποθήκευση', command='')
sub786=>subroutine: savebells.grid(row=3, column=0, columnspan=4, sticky=EW)
op788=>operation: treebells = ttk.Treeview(bells_frame)
op790=>operation: treebells['columns'] = ('btreakno', 'breakstart', 'breakstop')
sub792=>subroutine: treebells.column('#0', width=0)
sub794=>subroutine: treebells.column('btreakno', width=80)
sub796=>subroutine: treebells.column('breakstart', width=60)
sub798=>subroutine: treebells.column('breakstop', width=70)
sub800=>subroutine: treebells.heading('#0')
sub802=>subroutine: treebells.heading('btreakno', text='Δειάλειμα')
sub804=>subroutine: treebells.heading('breakstart', text='Αρχή')
sub806=>subroutine: treebells.heading('breakstop', text='Τέλος')
sub808=>subroutine: treebells.grid(row=2, column=0, columnspan=4, sticky=EW)
op810=>operation: bellsitem1 = treebells.insert('', tk.END, text='', values=('1', '', ''))
op812=>operation: bellsitem2 = treebells.insert('', tk.END, text='', values=('2', '', ''))
op814=>operation: bellsitem3 = treebells.insert('', tk.END, text='', values=('3', '', ''))
op816=>operation: bellsitem4 = treebells.insert('', tk.END, text='', values=('4', '', ''))
op818=>operation: bellsitem5 = treebells.insert('', tk.END, text='', values=('5', '', ''))
op820=>operation: bellsitem6 = treebells.insert('', tk.END, text='', values=('6', '', ''))
op822=>operation: bellsitem7 = treebells.insert('', tk.END, text='', values=('7', '', ''))
op824=>operation: right_frame = ttk.Frame(window)
sub826=>subroutine: right_frame.place(x=300, y=20)
op828=>operation: songs_frame = ttk.LabelFrame(right_frame, text='Ρύθμιση Τραγουδιών')
sub830=>subroutine: songs_frame.grid(row=0, column=0, sticky=W)
op832=>operation: treesongs = ttk.Treeview(songs_frame)
op834=>operation: treesongs['columns'] = ('songaa', 'songname', 'songlong')
sub836=>subroutine: treesongs.column('#0', width=0)
sub838=>subroutine: treesongs.column('songaa', width=30)
sub840=>subroutine: treesongs.column('songname', width=80)
sub842=>subroutine: treesongs.column('songlong', width=100)
sub844=>subroutine: treesongs.heading('#0')
sub846=>subroutine: treesongs.heading('songaa', text='AA')
sub848=>subroutine: treesongs.heading('songname', text='Τραγούδι')
sub850=>subroutine: treesongs.heading('songlong', text='Διάρκεια')
sub852=>subroutine: treesongs.grid(row=1, column=0, columnspan=4, sticky=EW)
op854=>operation: playbut = tk.Button(songs_frame, state='normal', width=13, text='Παίξε', command=playsong)
sub856=>subroutine: playbut.grid(row=2, column=0, sticky=EW)
op858=>operation: stopbut = tk.Button(songs_frame, state='normal', width=13, text='Σταμάτα', command=stopsong)
sub860=>subroutine: stopbut.grid(row=2, column=1, sticky=EW)
op862=>operation: pausebut = tk.Button(songs_frame, state='normal', width=13, text='Παύση', command=pausesong)
sub864=>subroutine: pausebut.grid(row=2, column=3, sticky=EW)
op866=>operation: bottom_frame = ttk.Frame(window)
sub868=>subroutine: bottom_frame.place(x=20, y=400)
op870=>operation: kodon_frame = ttk.LabelFrame(bottom_frame, text='Κουδούνι')
sub872=>subroutine: kodon_frame.grid(row=2, column=0, columnspan=3, sticky=EW)
op874=>operation: startkodon = tk.Button(kodon_frame, width=13, text='Έναρξη', command=startbellfunc)
sub876=>subroutine: startkodon.grid(row=0, column=0, sticky=EW)
op878=>operation: pausekodon = tk.Button(kodon_frame, width=13, text='Παύση', command=pausebellfunc)
sub880=>subroutine: pausekodon.grid(row=0, column=3, sticky=EW)
op882=>operation: ora = tk.Label(kodon_frame, text='-')
sub884=>subroutine: ora.grid(row=1, column=0, columnspan=4, sticky=EW)
op886=>operation: logo = Image.open('talos.png')
op888=>operation: logo = logo.resize((350, 200))
op890=>operation: logo_image = ImageTk.PhotoImage(logo)
op892=>operation: img_frame = Frame(window, width=350, height=200, bg='white')
sub894=>subroutine: img_frame.place(x=270, y=300)
op896=>operation: image_label = Label(img_frame, image=logo_image)
sub898=>subroutine: image_label.pack()
op900=>operation: try:
    window.after(1000, initboot)
except:
    messagebox.showerror('showerror', 'Initialization error')
sub902=>subroutine: window.mainloop()
op740=>operation: paused = 1
cond208=>condition: if (daynum == 1)
op212=>operation: directory = '/tue'
cond217=>condition: if (daynum == 2)
op221=>operation: directory = '/wed'
cond226=>condition: if (daynum == 3)
op230=>operation: directory = '/thu'
cond235=>condition: if (daynum == 4)
op239=>operation: directory = '/fri'
op243=>operation: direcrory = '/music'
sub123=>subroutine: pygame.mixer.music.unpause()

op2->op4
op4->op6
op6->op8
op8->op10
op10->op12
op12->op14
op14->op16
op16->op18
op18->op20
op20->op22
op22->op24
op24->op26
op26->op28
op28->op30
op30->op32
op32->op34
op34->op36
op36->op38
op38->op40
op40->op42
op42->op44
op44->sub46
sub46->sub48
sub48->sub50
sub50->st53
st53->io55
io55->sub58
sub58->e60
e60->st64
st64->io66
io66->sub69
sub69->e71
e71->st75
st75->io77
io77->op80
op80->op82
op82->sub84
sub84->op86
op86->sub88
sub88->sub90
sub90->sub92
sub92->e94
e94->st98
st98->io100
io100->sub103
sub103->e105
e105->st109
st109->io111
io111->cond115
cond115(yes)->sub119
sub119->e126
e126->st130
st130->io132
io132->op135
op135->op137
op137->sub139
sub139->cond142
cond142(yes)->cond147
cond147->sub159
sub159->e164
e164->st168
st168->io170
io170->op173
op173->op175
op175->op177
op177->cond180
cond180->sub192
sub192->op194
op194->op196
op196->cond199
cond199(yes)->op203
op203->op250
op250->sub252
sub252->sub254
sub254->op256
op256->cond259
cond259(yes)->sub278
sub278->op280
op280->sub282
sub282->sub284
sub284->sub286
sub286->sub288
sub288->op290
op290(left)->cond259
cond259(no)->sub294
sub294->sub296
sub296->cond299
cond299(yes)->sub303
sub303->sub305
sub305->sub307
sub307->sub309
sub309->sub311
sub311->sub313
sub313->sub315
sub315->sub317
sub317->sub322
sub322->op324
op324->sub326
sub326->e328
e328->st332
st332->io334
io334->op337
op337->op339
op339->sub341
sub341->op343
op343->op345
op345->sub347
sub347->cond350
cond350(yes)->sub529
sub529->op531
op531->op533
op533->cond536
cond536(yes)->sub540
sub540->op542
op542->op544
op544->op546
op546->cond560
cond560(yes)->op599
op599->cond602
cond602(yes)->sub606
sub606->sub608
sub608->op610
op610->op612
op612->sub614
sub614->cond620
cond620(yes)->sub624
sub624->op626
op626->sub628
sub628->cond560
cond620(no)->cond560
cond602(no)->cond620
cond560(no)->cond636
cond636(yes)->sub640
sub640->cond643
cond643(yes)->sub647
sub647->cond650
cond650(yes)->sub654
sub654->cond657
cond657(yes)->sub661
sub661->cond664
cond664(yes)->sub668
sub668->op670
op670->sub672
sub672->op674
op674->sub676
sub676->sub678
sub678->sub680
sub680->sub697
sub697->sub699
sub699->op701
op701(left)->cond350
cond664(no)->sub697
cond657(no)->sub697
cond650(no)->sub697
cond643(no)->sub697
cond636(no)->sub697
cond536(no)->sub550
sub550->sub552
sub552->sub554
sub554->sub556
sub556->cond560
cond350(no)->e705
e705->st709
st709->io711
io711->op714
op714->op716
op716->sub718
sub718->e720
e720->st724
st724->io726
io726->op729
op729->cond732
cond732(yes)->op736
op736->e743
e743->op746
op746->sub748
sub748->op750
op750->sub752
sub752->sub754
sub754->op756
op756->sub758
sub758->op760
op760->sub762
sub762->op764
op764->sub766
sub766->op768
op768->sub770
sub770->op772
op772->sub774
sub774->op776
op776->sub778
sub778->op780
op780->sub782
sub782->op784
op784->sub786
sub786->op788
op788->op790
op790->sub792
sub792->sub794
sub794->sub796
sub796->sub798
sub798->sub800
sub800->sub802
sub802->sub804
sub804->sub806
sub806->sub808
sub808->op810
op810->op812
op812->op814
op814->op816
op816->op818
op818->op820
op820->op822
op822->op824
op824->sub826
sub826->op828
op828->sub830
sub830->op832
op832->op834
op834->sub836
sub836->sub838
sub838->sub840
sub840->sub842
sub842->sub844
sub844->sub846
sub846->sub848
sub848->sub850
sub850->sub852
sub852->op854
op854->sub856
sub856->op858
op858->sub860
sub860->op862
op862->sub864
sub864->op866
op866->sub868
sub868->op870
op870->sub872
sub872->op874
op874->sub876
sub876->op878
op878->sub880
sub880->op882
op882->sub884
sub884->op886
op886->op888
op888->op890
op890->op892
op892->sub894
sub894->op896
op896->sub898
sub898->op900
op900->sub902
cond732(no)->op740
op740->e743
cond299(no)->sub322
cond199(no)->cond208
cond208(yes)->op212
op212->op250
cond208(no)->cond217
cond217(yes)->op221
op221->op250
cond217(no)->cond226
cond226(yes)->op230
op230->op250
cond226(no)->cond235
cond235(yes)->op239
op239->op250
cond235(no)->op243
op243->op250
cond142(no)->e164
cond115(no)->sub123
sub123->e126
</textarea></div>
        <div><button id="run" type="button">Run</button> <button onclick="HelpText()">Format Help</button></div>
        <div id="HelpTextBlock" style="display:none"><br/>Conditions can also be redirected like cond(yes, bottom) or cond(yes, right)
... and the other symbols too... like sub1(right)<br/>
You can also tweak the <b>diagram.drawSVG('diagram', {});</b> script in this file for more changes<br/>
This is based on <a href="https://github.com/adrai/flowchart.js">flowchart.js on github</a> and <a href="http://flowchart.js.org">http://flowchart.js.org</a> more documentation can be found over there.
</div><br/><div id="svgbase64"></div>
        <div id="pngbase64"></div>

        <div id="canvas"></div>
    </body>
</html>